{% extends "base_generic.html" %}

{% block styles %}
	<style>
		#sb .input_table {
			font-size: 1.4rem;
		}

		#sb .input_table td, #sb .input_table th {
			padding: 0;
			vertical-align: top;
		}

		#sb .input_table tfoot td {
			text-align: right;
		}

		#sb input[type="text"] {
			font-size: 1.5rem;
			text-align: center;
			width: 6rem;
		}

		#sb input[type="number"] {
			font-size: 1.5rem;
			text-align: right;
			width: 6rem;
		}
		
		#sb #quick_set {
			font-size: 1.5rem;
		}

			#sb #quick_set > div {
				padding: 0.3rem 0;
			}

			#sb #quick_set label {
				display: inline-block;
				font-weight: 700;
				min-width: 12rem;
			}

		@media screen and (min-width: 500px) {
			#sb .input_table {
				font-size: 2rem;
			}
			 
			#sb .input_table td {
				padding: 0.5rem 0.25rem;
			}

			#sb input[type="text"] {
				font-size: 2rem;
				text-align: center;
				width: 10rem;
			}

			#sb input[type="number"] {
				font-size: 2rem;
				text-align: right;
				width: 10rem;
			}
			
			#sb #quick_set {
				font-size: 2rem;
			}
			
			#sb #quick_set label {
				display: inline-block;
				min-width: 15rem;
			}
		}
	</style>
{% endblock %}

{% load static %}

{% block content %}
	<h1>
		<a href="{% url 'calendar_index' %}">RDRHC Calendar</a> &gt; 
		<a href="{% url 'calendar_code_list' %}">Custom Shift Codes</a> &gt; 
		Customize Shift Times
	</h1>
	
	<h2>Quick Set All Values</h2>

	<p>
		You can set all the start time and durations quickly by 
		filling out this section and clicking the "Set for all values" button.
	</p>

	<div id="quick_set">
		<div>
			<label for="quick_start_time">Start Time: </label>
			<input type="text" id="quick_start_time" value="07:00:00">
		</div>

		<div>
			<label for="quick_duration">Shift Duration: </label>
			<input type="number" id="quick_duration" value="8.25" step="0.01">
		</div>
		<div>
			<input type="button" id="set_all_values" value="Set for all values">
		</div>
	</div>

	<h2>Set Start Times and Durations</h2>

	<p>
		Fill out the form below to create your custom shift times. Please note 
		that if a section is missing a start time or duration, it will not appear 
		on your calendar if the shift falls on that day. When you have finished 
		setting your start times and durations, click the "Save shift code" button
		to save your changes. You may edit or delete these changes at any time.
	</p>

	<form action="" method="post">
		{% csrf_token %}

		<table class="input_table">
			{% if messages %}
				<thead>
					<tr>
						<td colspan="4">
							<ul class="message_list">
								{% for message in messages %}
									{% if message.level %}
										<li class="level_{{ message.level }}">{{ message }}</li>
									{% else %}
										<li>{{ message }}</li>
									{% endif %}
								{% endfor %}
							</ul>
						</td>
					</tr>
				</thead>
			{% endif %}

			<tbody>
				<tr>
					<th>Shift Code</th>
					<td colspan="2">{{ form.code }}</td>
					<td>
						<ul  class="message_list">
							{% for error in form.code.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}
						</ul>
					</td>
				</tr>
				<tr>
					<th></th>
					<th>Start Time</th>
					<th>Shift Duration</th>
					<th></th>
				</tr>
				<tr>
					<th>Monday</th>
					<td class="start_time">{{ form.monday_start }}</td>
					<td class="duration">{{ form.monday_duration }} hours</td>
					<td>
						<ul  class="message_list">
							{% for error in form.monday_start.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}

							{% for error in form.monday_duration.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}
						</ul>
					</td>
				</tr>
				<tr>
					<th>Tuesday</th>
					<td class="start_time">{{ form.tuesday_start }}</td>
					<td class="duration">{{ form.tuesday_duration }} hours</td>
					<td>
						<ul  class="message_list">
							{% for error in form.tuesday_start.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}

							{% for error in form.tuesday_duration.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}
						</ul>
					</td>
				</tr>
				<tr>
					<th>Wednesday</th>
					<td class="start_time">{{ form.wednesday_start }}</td>
					<td class="duration">{{ form.wednesday_duration }} hours</td>
					<td>
						<ul  class="message_list">
							{% for error in form.wednesday_start.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}

							{% for error in form.wednesday_duration.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}
						</ul>
					</td>
				</tr>
				<tr>
					<th>Thursday</th>
					<td class="start_time">{{ form.thursday_start }}</td>
					<td class="duration">{{ form.thursday_duration }} hours</td>
					<td>
						<ul  class="message_list">
							{% for error in form.thursday_start.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}

							{% for error in form.thursday_duration.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}
						</ul>
					</td>
				</tr>
				<tr>
					<th>Friday</th>
					<td class="start_time">{{ form.friday_start }}</td>
					<td class="duration">{{ form.friday_duration }} hours</td>
					<td>
						<ul  class="message_list">
							{% for error in form.friday_start.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}

							{% for error in form.friday_duration.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}
						</ul>
					</td>
				</tr>
				<tr>
					<th>Saturday</th>
					<td class="start_time">{{ form.saturday_start }}</td>
					<td class="duration">{{ form.saturday_duration }} hours</td>
					<td>
						<ul  class="message_list">
							{% for error in form.saturday_start.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}

							{% for error in form.saturday_duration.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}
						</ul>
					</td>
				</tr>
				<tr>
					<th>Sunday</th>
					<td class="start_time">{{ form.sunday_start }}</td>
					<td class="duration">{{ form.sunday_duration }} hours</td>
					<td>
						<ul  class="message_list">
							{% for error in form.sunday_start.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}

							{% for error in form.sunday_duration.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}
						</ul>
					</td>
				</tr>
				<tr>
					<th>Statutory Holidays</th>
					<td class="start_time">{{ form.stat_start }}</td>
					<td class="duration">{{ form.stat_duration }} hours</td>
					<td>
						<ul  class="message_list">
							{% for error in form.stat_start.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}

							{% for error in form.stat_duration.errors %}
								<li class="level_40">{{ error|striptags }}</li>
							{% endfor %}
						</ul>
					</td>
				</tr>
			</tbody>

			<tfoot>
				<tr>
					<td colspan="4">
						<button type="submit">Save shift code</button>
					</td>
				</tr>
			</tfoot>
		</table>
	</form>
{% endblock %}

{% block js %}
	<script src="{% static 'rdrhc_calendar/js/quick_set.js' %}" type="text/javascript"></script>
{% endblock %}